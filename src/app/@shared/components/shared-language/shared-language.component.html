<div class="relative">
  <button
    clickOutside
    (clickOutside)="isOpen = false"
    (click)="toggleLangMenu()"
    class="flex items-center bg-background p-2"
    type="button"
  >
    <img
      [src]="activeLang.flag"
      [class]="'flag flag-' + activeLang.code.toLowerCase()"
      style="width: 20px"
    />
    <span class="mx-2 text-sm text-headerTitle">{{ activeLang.label }}</span>
  </button>
  <div
    [@openClose]="isOpen ? 'open' : 'closed'"
    class="absolute end-0 z-20 mt-2 w-40 transform rounded-md bg-background shadow-custom ring-1 ring-transparent ring-opacity-5 transition focus:outline-none dark:bg-bodyBg"
  >
    <ul class="flex flex-col p-4">
      @for (lang of listLang; track $index) {
      <li
        (click)="setActiveLang(lang.code)"
        :key="$index"
        class="inline-flex cursor-pointer items-center gap-2 rounded-md px-3 py-2 text-xs font-semibold text-headerTitle transition-all duration-200 hover:bg-bodyBg hover:text-primaryColor"
      >
        <img
          [src]="lang.flag"
          [class]="'flag flag-' + activeLang.code.toLowerCase()"
          style="width: 20px"
        />
        <i [class]="lang.icon"></i>
        {{ lang.label }}
      </li>
      }
    </ul>
  </div>
</div>
